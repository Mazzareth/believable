{
  "type": "container",
  "width": "100%",
  "height": "100%",
  "children": [
    { "type": "box", "width": "100%", "height": "100%", "color": "#CC000000" },
    {
      "type": "container",
      "width": "80%",
      "height": "80%",
      "x": "10%",
      "y": "10%",
      "children": [
        { "type": "box", "width": "100%", "height": "100%", "color": "#FF0D1221", "borderColor": "#FFD4AF37", "borderSize": 2 },
        {
          "type": "container",
          "width": "100%",
          "height": "100%",
          "flexDirection": "column",
          "children": [
            {
              "type": "container",
              "width": "100%",
              "height": 32,
              "children": [
                { "type": "box", "width": "100%", "height": "100%", "color": "#FF151B2E", "gradientEnd": "#FF0D1221" },
                { "type": "text", "text": "screen.believable.unbelievable_menu.title", "translate": true, "centered": true, "width": "100%", "height": "100%", "color": "#FFD4AF37", "scale": 1.2 },
                { "type": "box", "x": 0, "y": 31, "width": "100%", "height": 1, "color": "#FFD4AF37" }
              ]
            },
            {
              "type": "container",
              "width": "100%",
              "height": 0,
              "flexGrow": 1.0,
              "flexDirection": "row",
              "children": [
                {
                  "type": "container",
                  "width": "20%",
                  "height": "100%",
                  "padding": 0,
                  "children": [
                    { "type": "box", "width": "100%", "height": "100%", "color": "#AA080C14", "borderColor": "#33D4AF37", "borderSize": 1 },
                    {
                      "type": "scroll", "width": "100%", "height": "100%", "padding": 4,
                      "children": [
                        { "type": "repeat", "itemsKey": "tabs_root", "width": "100%", "flexDirection": "column", "gap": 2,
                          "template": { "type": "component", "src": "tab_button", "props": { "label": "$label", "event": "$event", "selected": "$selected" } }
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "container",
                  "width": "20%",
                  "height": "100%",
                  "visibleWhen": { "key": "has_class", "value": "true" },
                  "children": [
                    { "type": "box", "width": "100%", "height": "100%", "color": "#88080C14", "borderColor": "#33D4AF37", "borderSize": 1 },
                    {
                      "type": "scroll", "width": "100%", "height": "100%", "padding": 4,
                      "children": [
                        { "type": "repeat", "itemsKey": "tabs_sub", "width": "100%", "flexDirection": "column", "gap": 2,
                          "template": { "type": "component", "src": "tab_button", "props": { "label": "$label", "event": "$event", "selected": "$selected" } }
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "container",
                  "width": 0,
                  "flexGrow": 1.0,
                  "height": "100%",
                  "padding": 8,
                  "marginBottom": 2,
                  "children": [
                    {
                      "type": "container", "width": "100%", "height": "100%",
                      "visibleWhen": { "key": "active_root", "value": "screen.believable.unbelievable_menu.tab.character" },
                      "children": [
                        {
                          "type": "container", "width": "100%", "height": "100%", "flexDirection": "column", "visibleWhen": { "key": "has_race", "value": "false" },
                          "children": [
                             { "type": "text", "text": "screen.believable.unbelievable_menu.race.select", "translate": true, "color": "#FFD4AF37", "scale": 1.2, "marginBottom": 12 },
                            {
                              "type": "container", "width": "100%", "height": 0, "flexGrow": 1.0, "flexDirection": "row", "gap": 12,
                              "children": [
                                {
                                  "type": "container", "width": 0, "flexGrow": 0.4, "height": "100%",
                                  "children": [
                                    { "type": "box", "width": "100%", "height": "100%", "color": "#44000000", "borderColor": "#33FFFFFF", "borderSize": 1 },
                                    {
                                      "type": "scroll", "width": "100%", "height": "100%", "padding": 4,
                                      "children": [
                                        { "type": "repeat", "itemsKey": "race_list", "width": "100%", "flexDirection": "column", "gap": 4,
                                          "template": { "type": "component", "src": "race_list_row", "props": { "name": "$name", "event": "$eventPreview", "selected": "$selected" } } }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "container", "width": 0, "flexGrow": 0.6, "height": "100%",
                                  "children": [
                                    { "type": "box", "width": "100%", "height": "100%", "color": "#44000000", "borderColor": "#33FFFFFF", "borderSize": 1 },
                                    {
                                      "type": "container", "width": "100%", "height": "100%", "padding": 12, "clip": true, "flexDirection": "column", "gap": 8,
                                      "children": [
                                        { "type": "text", "text": "$race_preview_name", "color": "#FFEAD8A6", "scale": 1.4 },
                                        { "type": "box", "width": "100%", "height": 1, "color": "#66D4AF37", "marginTop": 4, "marginBottom": 8 },
                                        { "type": "text", "text": "$race_preview_description", "color": "#FF9FB3C8", "wrap": true, "width": "100%", "scale": 1.0 },
                                        
                                        { "type": "text", "text": "Stats & Buffs", "color": "#FFD4AF37", "scale": 1.1, "marginTop": 12 },
                                        { "type": "scroll", "width": "100%", "height": "25%", "children": [
                                          { "type": "repeat", "itemsKey": "race_preview_stats", "width": "100%", "flexDirection": "column", "gap": 4,
                                            "template": { "type": "component", "src": "label_value", "props": { "label": "$label", "value": "$value" } } }
                                        ]},
                                        
                                        { "type": "text", "text": "Traits", "color": "#FFD4AF37", "scale": 1.1, "marginTop": 8 },
                                        { "type": "scroll", "width": "100%", "height": "25%", "visibleWhen": { "key": "race_preview_traits_empty", "value": "false" }, "children": [
                                          { "type": "repeat", "itemsKey": "race_preview_traits", "width": "100%", "flexDirection": "column", "gap": 4,
                                            "template": { "type": "component", "src": "race_trait_row", "props": { "name": "$name", "description": "$description" } } }
                                        ]},
                                        { "type": "text", "text": "No special traits.", "color": "#FF5A6E85", "visibleWhen": { "key": "race_preview_traits_empty", "value": "true" } },
                                        
                                        { "type": "container", "alignSelf": "end", "marginTop": "auto", "width": 120, "height": 24, "children": [
                                          { "type": "component", "src": "action_button", "props": { "label": "screen.believable.unbelievable_menu.race.select", "event": "$race_preview_event" } }
                                        ]}
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "container", "width": "100%", "height": "100%", "visibleWhen": { "key": "has_race", "value": "true" },
                          "children": [
                            {
                              "type": "container", "width": "100%", "height": "100%", "flexDirection": "column", "visibleWhen": { "key": "has_class", "value": "false" },
                              "children": [
                                { "type": "text", "text": "screen.believable.unbelievable_menu.class.select", "translate": true, "color": "#FFD4AF37", "scale": 1.2, "shadow": true, "marginBottom": 12 },
                                { "type": "scroll", "width": "100%", "height": 0, "flexGrow": 1.0, "children": [
                                  { "type": "repeat", "itemsKey": "class_list", "width": "100%", "flexDirection": "column", "gap": 8,
                                    "template": { "type": "component", "src": "choice_row", "props": { "name": "$name", "description": "$description", "event": "$event" } } }
                                ]}
                              ]
                            },
                            {
                              "type": "container", "width": "100%", "height": "100%", "visibleWhen": { "key": "has_class", "value": "true" },
                              "children": [
                                {
                                  "type": "container", "width": "100%", "height": "100%", "visibleWhen": { "key": "active_sub", "value": "screen.believable.unbelievable_menu.tab.stats" },
                                  "flexDirection": "column",
                                  "children": [
                                    {
                                      "type": "container", "width": "100%", "height": 30, "justifyContent": "space-between", "flexDirection": "row", "alignItems": "center", "marginBottom": 8,
                                      "children": [
                                      { "type": "text", "text": "Character Statistics", "color": "#FFD4AF37", "scale": 1.2 },
                                      { "type": "container", "flexDirection": "row", "gap": 4, "children": [
                                          { "type": "text", "text": "Available Points:", "color": "#FF9FB3C8", "scale": 1.0 },
                                          { "type": "text", "text": "$skill_points", "color": "#FFF6E4B2", "scale": 1.1 }
                                      ]}
                                    ]
                                    },
                                    { "type": "scroll", "width": "100%", "height": "100%", "children": [
                                      { "type": "repeat", "itemsKey": "character_stats", "width": "100%", "flexDirection": "column", "gap": 4,
                                        "template": { "type": "component", "src": "stat_row", "props": { "name": "$name", "value": "$value", "canIncrease": "$canIncrease", "canDecrease": "$canDecrease", "eventIncrease": "$eventIncrease", "eventDecrease": "$eventDecrease" } } }
                                    ]}
                                  ]
                                },
                                {
                                  "type": "container", "width": "100%", "height": "100%", "visibleWhen": { "key": "active_sub", "value": "screen.believable.unbelievable_menu.tab.attributes" },
                                  "flexDirection": "column",
                                  "children": [
                                    { "type": "text", "text": "Attributes", "color": "#FFD4AF37", "scale": 1.2, "marginBottom": 12 },
                                    { "type": "scroll", "width": "100%", "height": "100%", "children": [
                                      { "type": "repeat", "itemsKey": "attributes_list", "width": "100%", "flexDirection": "column", "gap": 4,
                                        "template": { "type": "component", "src": "label_value", "props": { "label": "$name", "value": "$value" } } }
                                    ]}
                                  ]
                                },
                                {
                                  "type": "container", "width": "100%", "height": "100%", "visibleWhen": { "key": "active_sub", "value": "screen.believable.unbelievable_menu.tab.info" },
                                  "flexDirection": "column",
                                  "children": [
                                    { "type": "text", "text": "Profile", "color": "#FFD4AF37", "scale": 1.2, "marginBottom": 12 },
                                    { "type": "scroll", "width": "100%", "height": "100%", "flexDirection": "column", "gap": 6, "children": [
                                      { "type": "text", "text": "$selected_race_name", "color": "#FFEAD8A6", "scale": 1.3 },
                                      { "type": "text", "text": "$selected_race_description", "color": "#FF9FB3C8", "wrap": true, "width": "100%", "scale": 1.0 },
                                      { "type": "box", "width": "100%", "height": 1, "color": "#33D4AF37", "marginTop": 12, "marginBottom": 12 },
                                      { "type": "text", "text": "$selected_class_name", "color": "#FFEAD8A6", "scale": 1.3 },
                                      { "type": "text", "text": "$selected_class_description", "color": "#FF9FB3C8", "wrap": true, "width": "100%", "scale": 1.0 }
                                    ]}
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "container", "width": "100%", "height": "100%",
                      "visibleWhen": { "key": "active_root", "value": "screen.believable.unbelievable_menu.tab.magic" },
                      "children": [
                        {
                          "type": "container", "width": "100%", "height": "100%", "visibleWhen": { "key": "has_magic", "value": "false" },
                          "flexDirection": "column",
                          "children": [
                            { "type": "text", "text": "screen.believable.unbelievable_menu.magic.select", "translate": true, "color": "#FFD4AF37", "scale": 1.2, "marginBottom": 12 },
                            { "type": "scroll", "width": "100%", "height": "100%", "children": [
                              { "type": "repeat", "itemsKey": "magic_school_list", "width": "100%", "flexDirection": "column", "gap": 8,
                                "template": { "type": "component", "src": "choice_row", "props": { "name": "$name", "description": "$description", "event": "$event" } } }
                            ]}
                          ]
                        },
                        {
                          "type": "container", "width": "100%", "height": "100%", "flexDirection": "column", "gap": 8, "visibleWhen": { "key": "has_magic", "value": "true" },
                          "children": [
                            { "type": "text", "text": "$selected_magic_name", "color": "#FFEAD8A6", "scale": 1.4 },
                            { "type": "text", "text": "$selected_magic_description", "color": "#FF9FB3C8", "wrap": true, "width": "100%", "scale": 1.0 }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "container", "width": "100%", "height": "100%",
                      "visibleWhen": { "key": "active_root", "value": "screen.believable.unbelievable_menu.tab.skills" },
                      "flexDirection": "column",
                      "children": [
                        {
                          "type": "container", "width": "100%", "height": "100%", "visibleWhen": { "key": "active_sub", "value": "screen.believable.unbelievable_menu.tab.skills.passive" },
                          "flexDirection": "column", "gap": 12,
                          "children": [
                            { "type": "text", "text": "Passive Skills", "color": "#FFD4AF37", "scale": 1.2 },
                            { "type": "scroll", "width": "100%", "height": "30%", "children": [
                              { "type": "repeat", "itemsKey": "passive_slots", "width": "100%", "flexDirection": "column", "gap": 4,
                                "template": { "type": "component", "src": "slot_row", "props": { "label": "$label", "equipped": "$equipped" } } }
                            ]},
                            { "type": "box", "width": "100%", "height": 1, "color": "#33D4AF37" },
                            { "type": "scroll", "width": "100%", "height": "60%", "children": [
                              { "type": "repeat", "itemsKey": "passive_skills", "width": "100%", "flexDirection": "column", "gap": 6,
                                "template": { "type": "component", "src": "skill_row", "props": { "name": "$name", "description": "$description", "eventSlot0": "$eventSlot0", "eventSlot1": "$eventSlot1" } } }
                            ]}
                          ]
                        },
                        {
                          "type": "container", "width": "100%", "height": "100%", "visibleWhen": { "key": "active_sub", "value": "screen.believable.unbelievable_menu.tab.skills.active" },
                          "flexDirection": "column", "gap": 12,
                          "children": [
                            { "type": "text", "text": "Active Skills", "color": "#FFD4AF37", "scale": 1.2 },
                            { "type": "scroll", "width": "100%", "height": "30%", "children": [
                              { "type": "repeat", "itemsKey": "active_slots", "width": "100%", "flexDirection": "column", "gap": 4,
                                "template": { "type": "component", "src": "slot_row", "props": { "label": "$label", "equipped": "$equipped" } } }
                            ]},
                            { "type": "box", "width": "100%", "height": 1, "color": "#33D4AF37" },
                            { "type": "scroll", "width": "100%", "height": "60%", "children": [
                              { "type": "repeat", "itemsKey": "active_skills", "width": "100%", "flexDirection": "column", "gap": 6,
                                "template": { "type": "component", "src": "skill_row", "props": { "name": "$name", "description": "$description", "eventSlot0": "$eventSlot0", "eventSlot1": "$eventSlot1" } } }
                            ]}
                          ]
                        }
                      ]
                    },
                    {
                      "type": "container", "width": "100%", "height": "100%",
                      "visibleWhen": { "key": "active_root", "value": "screen.believable.unbelievable_menu.tab.settings" },
                      "flexDirection": "column",
                      "children": [
                        {
                          "type": "container", "width": "100%", "height": "100%", "flexDirection": "column", "gap": 12, "visibleWhen": { "key": "active_sub", "value": "screen.believable.unbelievable_menu.tab.settings.salvage" },
                          "children": [
                            { "type": "text", "text": "Loot Settings", "color": "#FFD4AF37", "scale": 1.2 },
                            { "type": "container", "flexDirection": "row", "gap": 6, "children": [
                                { "type": "text", "text": "Minimum Drop Rarity:", "color": "#FF9FB3C8", "scale": 1.0 },
                                { "type": "text", "text": "$drop_rarity", "color": "#FFF6E4B2", "scale": 1.0 }
                            ]},
                            { "type": "container", "width": "100%", "height": 24, "marginTop": 8, "flexDirection": "row", "gap": 12, "children": [
                              { "type": "container", "width": "30%", "height": "100%", "children": [
                                { "type": "component", "src": "action_button", "width": "100%", "props": { "label": "Lower", "event": "drop_rarity:down" } }
                              ]},
                              { "type": "container", "width": "30%", "height": "100%", "children": [
                                { "type": "component", "src": "action_button", "width": "100%", "props": { "label": "Higher", "event": "drop_rarity:up" } }
                              ]}
                            ]},
                            { "type": "container", "marginTop": 16, "width": 240, "height": 24, "children": [
                              { "type": "component", "src": "action_button", "props": { "label": "Open Salvage Menu", "event": "open_salvage" } }
                            ]}
                          ]
                        },
                        {
                          "type": "container", "width": "100%", "height": "100%", "visibleWhen": { "key": "active_sub", "value": "screen.believable.unbelievable_menu.tab.settings.waypoints" },
                          "flexDirection": "column",
                          "children": [
                            {
                              "type": "container", "width": "100%", "height": "100%", "visibleWhen": { "key": "selected_class_name", "value": "Cartographer" },
                              "flexDirection": "column",
                              "children": [
                                {
                                  "type": "container", "width": "100%", "height": 30, "justifyContent": "space-between", "flexDirection": "row", "alignItems": "center", "marginBottom": 12, "children": [
                                  { "type": "text", "text": "Waypoints", "color": "#FFD4AF37", "scale": 1.2 },
                                  { "type": "container", "width": 120, "height": 24, "children": [
                                    { "type": "component", "src": "action_button", "width": "100%", "props": { "label": "+ Add New", "event": "waypoint:add" } }
                                  ]}
                                ]
                                },
                                { "type": "scroll", "width": "100%", "height": "90%", "children": [
                                  { "type": "repeat", "itemsKey": "waypoints", "width": "100%", "flexDirection": "column", "gap": 8,
                                    "template": { "type": "component", "src": "waypoint_row", "props": { "name": "$name", "pos": "$pos", "eventToggle": "$eventToggle", "eventMove": "$eventMove", "eventDelete": "$eventDelete", "eventRename": "$eventRename" } } }
                                ]}
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "container", "width": "100%", "height": "100%",
                      "visibleWhen": { "key": "active_root", "value": "screen.believable.unbelievable_menu.tab.index" },
                      "flexDirection": "column",
                      "children": [
                        { "type": "text", "text": "Exploration Index", "color": "#FFD4AF37", "scale": 1.2, "marginBottom": 12 },
                        { "type": "scroll", "width": "100%", "height": "100%", "children": [
                          { "type": "repeat", "itemsKey": "discovered_biomes", "width": "100%", "flexDirection": "column", "gap": 4,
                            "template": { "type": "component", "src": "simple_row", "props": { "label": "$label" } } }
                        ]}
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}